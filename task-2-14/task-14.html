<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
  <body>

    <h3>污染城市列表</h3>
    <ul id="aqi-list">
    <!--   
      <li>第一名：福州（样例），10</li>
      <li>第二名：福州（样例），10</li> -->
    </ul>

    <script type="text/javascript">

      var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
      ];

      (function () {
        /*
        在注释下方编写代码
        遍历读取aqiData中各个城市的数据
        将空气质量指数大于60的城市显示到aqi-list的列表中
        */
        
        var $aqiList = document.getElementById('aqi-list'),
            cnNum =['一','二','三','四','五','六'];

        // filter -> sort -> map -> join
        $aqiList.innerHTML = aqiData.filter(function(city) {
          return city[1] > 60;
        })
        .sort(function(next, curr) {
          return curr[1] > next[1];
        })
        .map(function(city, i) {
          return '<li>第' + cnNum[i] + '名：' + city[0] + '，' + city[1] + '</li>';
        })
        .join('');

      })();
    </script>
  </body>
</html>